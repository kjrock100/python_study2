# 합병 정렬 (Merge Sort)

이 문서는 `mergesort.py` 파일에 구현된 **합병 정렬(Merge Sort)** 알고리즘에 대해 설명합니다. 합병 정렬은 **분할 정복(Divide and Conquer)** 알고리즘의 대표적인 예로, 리스트를 균등한 크기로 분할하고 분할된 부분 리스트를 정렬한 다음, 두 개의 정렬된 부분 리스트를 합하여 전체를 정렬하는 방식입니다.

## 개요

- **시간 복잡도**: $O(n \log n)$ (최악, 평균, 최선 모두 동일)
- **공간 복잡도**: $O(n)$ (추가적인 메모리 공간 필요)
- **안정성**: 안정 정렬(Stable Sort)입니다.

## 주요 함수 설명

### `merge(left_half: list, right_half: list) -> list`
- **목적**: 이미 정렬된 두 개의 리스트(`left_half`, `right_half`)를 하나의 정렬된 리스트로 합병(Merge)합니다.
- **동작 원리**:
  1. 두 리스트의 크기를 합친 크기만큼의 결과 배열(`sorted_array`)을 미리 할당합니다.
  2. 두 리스트의 요소를 앞에서부터 비교하며 더 작은 값을 결과 배열에 순서대로 채워 넣습니다.
  3. 한쪽 리스트가 먼저 끝나면, 다른 쪽 리스트의 남은 요소들을 결과 배열 뒤에 복사합니다.

### `merge_sort(array: list) -> list`
- **목적**: 입력된 리스트를 합병 정렬 알고리즘을 사용하여 오름차순으로 정렬합니다.
- **알고리즘 단계**:
  1. **기저 사례 (Base Case)**: 리스트의 길이가 1 이하이면 이미 정렬된 것으로 간주하여 그대로 반환합니다.
  2. **분할 (Divide)**: 리스트의 중간 인덱스를 계산하여 왼쪽 절반(`left_half`)과 오른쪽 절반(`right_half`)으로 나눕니다.
     - *참고*: 코드에서는 `middle = 0 + (len(array) - 0) // 2` 공식을 사용하고 있는데, 이는 `len(array) // 2`와 동일합니다. (C++ 등에서의 정수 오버플로우 방지 관습이 반영된 것으로 보입니다.)
  3. **정복 (Conquer)**: `merge_sort`를 재귀적으로 호출하여 분할된 두 리스트를 각각 정렬합니다.
  4. **결합 (Combine)**: `merge` 함수를 사용하여 정렬된 두 리스트를 하나로 합칩니다.

## 사용법

`if __name__ == "__main__":` 블록은 `doctest`를 실행하여 함수가 올바르게 동작하는지 검증합니다.

예시:
```python
from mergesort import merge_sort

array = [-2, 3, -10, 11, 99, 100000, 100, -200]
sorted_array = merge_sort(array)
print(sorted_array)
# 출력: [-200, -10, -2, 3, 11, 99, 100, 100000]
```
