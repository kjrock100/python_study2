# 양방향 A* 알고리즘 (Bidirectional A* Algorithm)

이 문서는 `bidirectional_a_star.py` 파일에 구현된 **양방향 A* 탐색 알고리즘**에 대해 설명합니다.

## 개요

양방향 A* 알고리즘은 시작 지점과 목표 지점에서 동시에 탐색을 시작하여 중간에서 만나는 경로를 찾는 방법입니다. 단방향 A* 알고리즘에 비해 탐색 공간을 줄여 더 빠르게 최단 경로를 찾을 수 있는 경우가 많습니다.

## 주요 상수 및 설정

- `HEURISTIC`: 휴리스틱 함수 종류를 설정합니다.
  - `1`: 맨해튼 거리 (Manhattan Distance) - 격자 이동에 적합.
  - `0`: 유클리드 거리 (Euclidean Distance) - 직선 거리에 적합.
- `grid`: 0(이동 가능)과 1(장애물)로 구성된 2차원 리스트입니다.
- `delta`: 상, 좌, 하, 우 4방향 이동을 정의합니다.

## 주요 클래스

### `Node`

- **목적**: 그리드 상의 각 지점(노드) 정보를 저장합니다.
- **속성**:
  - `pos_x`, `pos_y`: 현재 좌표.
  - `goal_x`, `goal_y`: 목표 좌표.
  - `g_cost`: 시작점부터 현재까지의 실제 비용.
  - `h_cost`: 현재 위치에서 목표까지의 추정 비용 (휴리스틱).
  - `f_cost`: 총 비용 ($g + h$).
  - `parent`: 경로 역추적을 위한 부모 노드.
- **기능**:
  - `calculate_heuristic()`: 설정된 `HEURISTIC` 상수에 따라 비용을 계산합니다.
  - `__lt__`: 우선순위 큐 정렬을 위해 `f_cost`를 기준으로 비교합니다.

### `AStar`

- **목적**: 단방향 A* 알고리즘을 수행하는 클래스입니다.
- **주요 메서드**:
  - `search()`: 열린 목록(Open List)에서 가장 비용이 낮은 노드를 꺼내 탐색을 진행합니다. 목표에 도달하면 경로를 반환합니다.
  - `get_successors(parent)`: 현재 노드에서 이동 가능한(장애물이 없고 그리드 내부인) 이웃 노드들을 반환합니다.
  - `retrace_path(node)`: 부모 노드를 따라가며 경로를 복원합니다.

### `BidirectionalAStar`

- **목적**: 양방향 탐색을 관리하고 실행합니다.
- **속성**:
  - `fwd_astar`: 시작점에서 목표점으로 향하는 정방향 A* 인스턴스.
  - `bwd_astar`: 목표점에서 시작점으로 향하는 역방향 A* 인스턴스.
- **주요 메서드**:
  - `search()`:
    - 두 방향의 A* 탐색을 번갈아 가며 수행하거나 동시에 진행합니다.
    - 두 탐색의 열린 목록에서 꺼낸 노드가 서로 만나는지 확인합니다.
    - 만나는 지점이 생기면 `retrace_bidirectional_path`를 호출하여 경로를 합칩니다.
  - `retrace_bidirectional_path(fwd_node, bwd_node)`: 정방향 경로와 역방향 경로를 결합하여 전체 최단 경로를 생성합니다.

## 사용법

`if __name__ == "__main__":` 블록에서 단방향 A*와 양방향 A*의 실행 시간을 비교하는 예제를 확인할 수 있습니다.

```python
# 실행 예시
# 그리드 출력
# AStar 실행 시간 출력
# BidirectionalAStar 실행 시간 출력
```

## 참고 자료
- Wikipedia: Bidirectional search
