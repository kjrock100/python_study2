# 유향 및 무향 (가중치) 그래프 (Directed and Undirected (Weighted) Graph)

이 문서는 `directed_and_undirected_(weighted)_graph.py` 파일에 구현된 **유향 그래프(Directed Graph)**와 **무향 그래프(Undirected Graph)** 클래스에 대해 설명합니다. 두 클래스 모두 가중치가 있는 간선을 지원합니다.

## 개요

이 코드는 그래프 자료구조를 직접 구현한 것으로, 그래프의 생성, 간선 추가/삭제, 탐색(DFS, BFS), 사이클 감지, 위상 정렬(유향 그래프) 등의 기능을 제공합니다.

## 주요 클래스

### 1. `DirectedGraph` (유향 그래프)

방향이 있는 간선을 가진 그래프를 표현합니다.

#### 주요 메서드

- **`add_pair(u, v, w=1)`**: 정점 `u`에서 `v`로 가는 가중치 `w`인 간선을 추가합니다. (기본 가중치: 1)
- **`remove_pair(u, v)`**: 정점 `u`에서 `v`로 가는 간선을 제거합니다.
- **`dfs(s=-2, d=-1)`**: 깊이 우선 탐색(DFS)을 수행합니다. `s`는 시작 정점, `d`는 목표 정점입니다.
- **`bfs(s=-2)`**: 너비 우선 탐색(BFS)을 수행합니다. `s`는 시작 정점입니다.
- **`topological_sort(s=-2)`**: 위상 정렬을 수행하여 정렬된 노드 리스트를 반환합니다.
- **`has_cycle()`**: 그래프 내에 사이클(순환)이 존재하는지 확인합니다.
- **`cycle_nodes()`**: 사이클을 구성하는 노드들을 반환합니다.
- **`in_degree(u)`**: 정점 `u`로 들어오는 간선의 수(진입 차수)를 반환합니다.
- **`out_degree(u)`**: 정점 `u`에서 나가는 간선의 수(진출 차수)를 반환합니다.
- **`fill_graph_randomly(c=-1)`**: 그래프를 무작위 간선으로 채웁니다. `c`는 노드의 수입니다.

### 2. `Graph` (무향 그래프)

방향이 없는 간선을 가진 그래프를 표현합니다. 내부적으로는 양방향 간선으로 처리됩니다.

#### 주요 메서드

- **`add_pair(u, v, w=1)`**: 정점 `u`와 `v` 사이의 가중치 `w`인 간선을 추가합니다. (양방향)
- **`remove_pair(u, v)`**: 정점 `u`와 `v` 사이의 간선을 제거합니다.
- **`degree(u)`**: 정점 `u`에 연결된 간선의 수(차수)를 반환합니다.
- **`dfs`, `bfs`, `has_cycle`, `cycle_nodes`**: `DirectedGraph`와 유사하게 동작하지만 무향 그래프의 특성을 따릅니다.

## 구현 상세

- **인접 리스트**: 그래프는 딕셔너리를 사용한 인접 리스트 형태로 저장됩니다. `self.graph = {u: [[w, v], ...], ...}`
- **탐색 알고리즘**: DFS와 BFS는 스택과 큐(deque)를 사용하여 비재귀적으로 구현되어 있습니다.
- **시간 측정**: `dfs_time`, `bfs_time` 메서드를 통해 탐색 알고리즘의 실행 시간을 측정할 수 있습니다.

## 사용법 예시

```python
# 유향 그래프 생성 및 사용
dg = DirectedGraph()
dg.add_pair(1, 2)
dg.add_pair(2, 3)
print(dg.dfs(1))  # 1에서 시작하는 DFS 탐색 결과 출력

# 무향 그래프 생성 및 사용
g = Graph()
g.add_pair('A', 'B', 5)
g.add_pair('B', 'C', 3)
print(g.bfs('A')) # A에서 시작하는 BFS 탐색 결과 출력
```