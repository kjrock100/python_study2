# 위상 정렬 (Topological Sort)

이 문서는 `g_topological_sort.py` 파일에 구현된 **위상 정렬(Topological Sort)** 알고리즘에 대해 설명합니다.

## 개요

위상 정렬은 유향 비순환 그래프(DAG, Directed Acyclic Graph)의 모든 정점을 선형으로 나열하는 것입니다. 이때, 모든 간선 $(u, v)$에 대해 정점 $u$가 정점 $v$보다 먼저 오도록 정렬합니다. 주로 작업의 순서를 결정하거나 의존성 문제를 해결할 때 사용됩니다.

이 예제에서는 옷 입는 순서를 결정하는 문제를 통해 위상 정렬을 보여줍니다.

## 주요 데이터 구조

- **`clothes`**: 정점 인덱스(0~8)와 옷의 이름(문자열)을 매핑한 딕셔너리입니다.
- **`graph`**: 인접 리스트 형태로 표현된 그래프입니다. `graph[u]`는 정점 `u` 다음에 입어야 하는(또는 의존성이 있는) 옷들의 리스트를 포함합니다.
- **`visited`**: 각 정점의 방문 여부를 저장하는 리스트입니다.
- **`stack`**: 위상 정렬 결과를 저장할 스택입니다. DFS가 끝난 정점부터 스택에 쌓이므로, 나중에 스택에서 꺼내면 위상 정렬 순서가 됩니다.

## 주요 함수

### `depth_first_search(u, visited, graph)`

- **목적**: 깊이 우선 탐색(DFS)을 수행하며 위상 정렬 순서를 찾습니다.
- **매개변수**:
  - `u`: 현재 탐색 중인 정점.
  - `visited`: 방문 여부 리스트.
  - `graph`: 그래프 인접 리스트.
- **동작**:
  1. 현재 정점 `u`를 방문 처리합니다.
  2. `u`와 연결된 모든 이웃 정점 `v`에 대해, 아직 방문하지 않았다면 재귀적으로 `depth_first_search`를 호출합니다.
  3. **중요**: `u`의 모든 이웃에 대한 탐색이 끝나면(더 이상 갈 곳이 없거나 모든 자식이 처리되면), `u`를 `stack`에 추가합니다.

### `topological_sort(graph, visited)`

- **목적**: 그래프의 모든 정점에 대해 위상 정렬을 수행합니다.
- **동작**:
  - 그래프의 모든 정점을 순회하며, 아직 방문하지 않은 정점이 있다면 `depth_first_search`를 호출합니다. 이는 그래프가 여러 개의 연결 요소로 나뉘어 있을 경우를 대비하기 위함입니다.

### `print_stack(stack, clothes)`

- **목적**: 스택에 저장된 정렬 결과를 순서대로 출력합니다.
- **동작**:
  - 스택에서 요소를 하나씩 꺼내며(LIFO), 해당 인덱스에 매핑된 옷 이름을 출력합니다. 스택의 특성상 가장 나중에 들어간(의존성이 가장 적은) 정점이 먼저 나오게 되어 올바른 순서가 됩니다.

## 사용법

`if __name__ == "__main__":` 블록에서 알고리즘을 실행하고 결과를 출력합니다.

```python
topological_sort(graph, visited)
print(stack)                # 스택 상태 출력
print_stack(stack, clothes) # 옷 입는 순서 출력
```

## 참고 사항
- 위상 정렬의 결과는 유일하지 않을 수 있습니다.
- 그래프에 사이클(Cycle)이 존재하면 위상 정렬을 수행할 수 없습니다. (이 코드는 사이클 검사는 포함하지 않습니다.)