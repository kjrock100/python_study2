# 만델브로 집합 (Mandelbrot Set)

이 문서는 `mandelbrot.py` 파일에 구현된 **만델브로 집합** 생성 및 시각화 알고리즘에 대해 설명합니다.

## 개요

만델브로 집합은 점화식 $z_{n+1} = z_n^2 + c$이 발산하지 않는 복소수 $c$의 집합입니다. ($z_0 = 0$에서 시작)
이 코드는 복소평면의 각 점에 대해 수열이 발산하는 속도를 계산하여 색상을 입히는 방식으로 만델브로 집합을 시각화합니다.

## 주요 함수

### `get_distance(x, y, max_step)`
- **목적**: 주어진 좌표 $(x, y)$에 해당하는 복소수가 발산하기까지 걸리는 상대적인 거리(단계 수 / 최대 단계 수)를 계산합니다.
- **동작**:
  - $z = a + bi$ 형태로 연산을 수행합니다.
  - $|z| > 2$ (즉, $a^2 + b^2 > 4$)가 되면 발산하는 것으로 간주합니다.
  - `max_step`까지 발산하지 않으면 만델브로 집합의 원소로 간주하여 1.0을 반환합니다.

### `get_black_and_white_rgb(distance)`
- **목적**: 흑백 색상 코드를 반환합니다.
- **반환값**: 만델브로 집합 내부(distance=1)는 검은색, 그 외는 흰색을 반환합니다.

### `get_color_coded_rgb(distance)`
- **목적**: 발산 속도에 따른 컬러 색상 코드를 반환합니다.
- **반환값**: `colorsys.hsv_to_rgb`를 사용하여 거리에 따라 다른 색상을 반환하며, 집합 내부는 검은색입니다.

### `get_image(...)`
- **목적**: 만델브로 집합 이미지를 생성합니다.
- **매개변수**:
  - `image_width`, `image_height`: 생성할 이미지의 크기 (픽셀).
  - `figure_center_x`, `figure_center_y`: 볼 복소평면의 중심 좌표.
  - `figure_width`: 볼 복소평면의 너비.
  - `max_step`: 발산 여부를 확인할 최대 반복 횟수.
  - `use_distance_color_coding`: 컬러 사용 여부.
- **동작**:
  - 이미지의 각 픽셀을 복소평면 좌표로 변환합니다.
  - `get_distance`를 호출하여 발산 정도를 계산합니다.
  - 선택된 색상 함수를 사용하여 픽셀 색상을 지정합니다.
  - `PIL.Image` 객체를 반환합니다.

## 사용법

이 코드를 실행하려면 `Pillow` 라이브러리가 필요합니다.

```bash
pip install Pillow
```

`if __name__ == "__main__":` 블록에서 실행 예시를 확인할 수 있습니다.

```python
# 이미지 생성 및 표시
img = get_image()
img.show()
```
