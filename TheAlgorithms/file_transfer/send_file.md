# 파일 전송 서버 (Send File Server)

이 문서는 `send_file.py` 파일에 구현된 **파일 전송 서버** 스크립트에 대해 설명합니다. 이 스크립트는 소켓(Socket) 프로그래밍을 사용하여 클라이언트의 연결을 기다리고, 연결 시 지정된 파일을 전송합니다.

## 개요

TCP/IP 소켓을 사용하여 로컬 호스트의 특정 포트(12312)에서 서버를 실행합니다. 클라이언트가 접속하면 데이터를 수신(인사말 등)한 후, 로컬에 있는 파일을 읽어 클라이언트에게 전송합니다.

## 주요 함수: `send_file`

### `send_file(filename: str = "mytext.txt", testing: bool = False) -> None`

- **목적**: 서버 소켓을 열고 클라이언트에게 파일을 전송합니다.
- **매개변수**:
  - `filename`: 전송할 파일의 이름 (기본값: "mytext.txt").
  - `testing`: 테스트 모드 여부. `True`일 경우 한 번의 전송 후 서버를 종료합니다.

### 코드 동작 과정

1. **소켓 생성 및 대기**:
   - `socket.socket()`으로 소켓을 생성합니다.
   - `sock.bind((host, port))`로 호스트와 포트(12312)를 바인딩합니다.
   - `sock.listen(5)`로 클라이언트의 연결 요청을 대기합니다.

2. **클라이언트 연결 수락**:
   - `sock.accept()`를 통해 클라이언트의 연결을 수락하고, 연결 객체(`conn`)와 주소(`addr`)를 얻습니다.
   - 클라이언트로부터 초기 데이터(예: 인사말)를 수신하여 출력합니다.

3. **파일 전송**:
   - `open(filename, "rb")`: 전송할 파일을 바이너리 읽기 모드(`rb`)로 엽니다.
   - 파일 내용을 1024 바이트씩 읽어 `conn.send(data)`를 통해 클라이언트에게 전송합니다.
   - 파일의 끝까지 읽을 때까지 반복합니다.

4. **연결 종료**:
   - 전송이 완료되면 `conn.close()`로 클라이언트와의 연결을 끊습니다.
   - `testing`이 `True`이면 루프를 빠져나와 서버 소켓을 닫고 프로그램을 종료합니다.

## 사용법

이 스크립트는 서버 역할을 하므로, 클라이언트(`receive_file.py`)보다 먼저 실행되어야 합니다. 또한 전송할 파일(기본값 `mytext.txt`)이 같은 디렉토리에 존재해야 합니다.

```python
# 터미널에서 실행
python send_file.py
```

## 주의 사항
- `host` 변수가 `socket.gethostname()`으로 설정되어 있어 로컬 네트워크 환경에서 동작합니다.
- 포트 번호 `12312`는 클라이언트 측 코드와 일치해야 합니다.
- 전송하려는 파일이 존재하지 않으면 `FileNotFoundError`가 발생할 수 있습니다.
