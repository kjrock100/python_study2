# `morse_code.py` 코드 설명

이 문서는 `morse_code.py` 파이썬 스크립트에 포함된 함수들을 설명합니다. 이 스크립트는 텍스트와 **모스 부호(Morse Code)** 간의 상호 변환을 구현합니다.

## 목차
1.  모스 부호란?
2.  주요 데이터 구조
    -   `MORSE_CODE_DICT`
    -   `REVERSE_DICT`
3.  함수 설명
    -   `encrypt(message)`
    -   `decrypt(message)`
    -   `main()`
4.  실행 방법
5.  코드 개선 제안

## 모스 부호란?

모스 부호는 점(`.`)과 선(`-`)의 조합을 사용하여 문자를 나타내는 통신 방식입니다. 각 문자는 고유한 점과 선의 시퀀스에 매핑되며, 문자 사이는 공백으로, 단어 사이는 슬래시(`/`)로 구분합니다.

## 주요 데이터 구조

### `MORSE_CODE_DICT`

알파벳, 숫자, 일부 특수문자를 키(key)로, 해당하는 모스 부호를 값(value)으로 갖는 딕셔너리입니다. 암호화(텍스트 -> 모스 부호) 과정에서 조회 테이블로 사용됩니다.

```python
{
    "A": ".-", "B": "-...", ..., " ": "/"
}
```

### `REVERSE_DICT`

`MORSE_CODE_DICT`의 키와 값을 뒤집어 생성한 딕셔너리입니다. 모스 부호를 키로, 해당하는 문자를 값으로 갖습니다. 복호화(모스 부호 -> 텍스트) 과정에서 사용됩니다.

## 함수 설명

### `encrypt(message: str) -> str`

주어진 텍스트 메시지를 모스 부호로 **암호화(변환)**합니다.

-   **알고리즘**:
    1.  입력된 메시지를 모두 대문자로 변환합니다.
    2.  메시지의 각 문자를 `MORSE_CODE_DICT`에서 찾아 해당하는 모스 부호로 바꿉니다.
    3.  변환된 모스 부호들을 공백(` `)으로 구분하여 하나의 문자열로 합칩니다.

```python
>>> encrypt("Sos!")
'... --- ... -.-.--'
```

### `decrypt(message: str) -> str`

모스 부호로 된 메시지를 원래의 텍스트로 **복호화(변환)**합니다.

-   **알고리즘**:
    1.  입력된 모스 부호 메시지를 공백을 기준으로 나눕니다.
    2.  나누어진 각 모스 부호 조각을 `REVERSE_DICT`에서 찾아 해당하는 문자로 바꿉니다.
    3.  변환된 문자들을 모두 합쳐 원래의 텍스트를 복원합니다.

```python
>>> decrypt('... --- ... -.-.--')
'SOS!'
```

### `main()`

간단한 메시지를 암호화하고 다시 복호화하는 과정을 시연합니다. 또한, 이 함수 자체에 `doctest`가 포함되어 있어, 스크립트 실행 시 `encrypt`와 `decrypt`의 왕복 변환이 올바른지 자동으로 테스트합니다.

## 실행 방법

스크립트를 직접 실행하면 `main` 함수가 호출되어 시연 결과를 출력합니다.

```bash
python morse_code.py
```

**실행 결과:**
```
Morse code here!
-- --- .-. ... . / -.-. --- -.. . / .... . .-. . -.-.--
MORSE CODE HERE!
```

## 코드 개선 제안

1.  **오류 처리 강화**: 현재 `encrypt` 또는 `decrypt` 함수에 딕셔너리에 없는 문자나 코드가 입력되면 `KeyError`가 발생하여 프로그램이 중단됩니다. `try-except` 블록을 사용하거나, 딕셔너리의 `.get()` 메서드를 사용하여 알 수 없는 문자를 특정 기호(예: `?`)로 처리하거나 무시하도록 만들면 프로그램이 더 안정적으로 동작합니다.

    ```python
    # encrypt 개선 제안 예시
    def encrypt(message: str) -> str:
        return " ".join(MORSE_CODE_DICT.get(char, char) for char in message.upper())
    ```

2.  **사용자 인터페이스 추가**: 현재 `main` 함수는 하드코딩된 메시지만 처리합니다. `input()` 함수를 사용하여 사용자로부터 직접 메시지를 입력받아 변환하는 대화형 인터페이스를 추가하면 스크립트의 활용도가 높아집니다.

3.  **`doctest` 분리**: `main` 함수 내에 `doctest`가 있는 것은 일반적이지 않습니다. `doctest`는 각 함수의 docstring에 작성하고, `if __name__ == "__main__"` 블록에서 `doctest.testmod()`를 호출하여 실행하는 것이 더 표준적인 방식입니다. 현재 코드에서는 `main` 함수가 `doctest`의 일부로 사용되고 있습니다.