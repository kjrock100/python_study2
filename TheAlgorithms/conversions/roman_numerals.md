# `roman_numerals.py` 코드 설명

이 문서는 `roman_numerals.py` 파이썬 스크립트에 포함된 함수들을 설명합니다. 이 스크립트는 로마 숫자와 10진수 정수 간의 상호 변환을 구현합니다.

## 목차
1.  로마 숫자 표기법
2.  함수 설명
    -   `roman_to_int(roman)`
    -   `int_to_roman(number)`
3.  실행 방법
4.  코드 개선 제안

## 로마 숫자 표기법

로마 숫자는 I(1), V(5), X(10), L(50), C(100), D(500), M(1000)의 7개 기호를 사용하여 숫자를 표현합니다.

-   **기본 규칙**: 큰 숫자부터 작은 숫자 순서로 나열하여 더합니다. (예: `VI` = 5 + 1 = 6)
-   **감산 규칙**: 작은 숫자가 큰 숫자 바로 앞에 오는 경우, 큰 숫자에서 작은 숫자를 뺍니다. (예: `IV` = 5 - 1 = 4, `IX` = 10 - 1 = 9)

## 함수 설명

### `roman_to_int(roman: str) -> int`

로마 숫자 문자열을 10진수 정수로 변환합니다.

-   **알고리즘**:
    1.  로마 숫자 문자열을 왼쪽부터 오른쪽으로 순회합니다.
    2.  현재 문자의 값이 다음 문자의 값보다 작으면, 감산 규칙이 적용되는 경우입니다. (예: `IV`에서 'I'를 만났을 때)
        -   `(다음 문자 값 - 현재 문자 값)`을 총합에 더하고, 인덱스를 2칸 이동합니다.
    3.  그렇지 않으면, 기본 규칙에 따라 현재 문자의 값을 총합에 더하고, 인덱스를 1칸 이동합니다.
    4.  문자열 끝까지 이 과정을 반복하여 최종 10진수 값을 반환합니다.

```python
>>> roman_to_int("CLIV")
154
>>> roman_to_int("MMMCMXCIX")
3999
```

### `int_to_roman(number: int) -> str`

10진수 정수를 로마 숫자 문자열로 변환합니다.

-   **알고리즘 (탐욕 알고리즘)**:
    1.  로마 숫자 표기법을 값의 크기가 큰 순서대로(1000, 900, 500, ...) 미리 정의해 둡니다.
    2.  가장 큰 값부터 순서대로, 입력된 숫자를 해당 값으로 나눈 몫을 구합니다.
    3.  몫만큼 해당 로마 숫자 문자를 결과 리스트에 추가합니다.
    4.  입력된 숫자를 나눈 나머지로 업데이트하고, 다음 값에 대해 이 과정을 반복합니다.
    5.  모든 값을 처리한 후, 결과 리스트의 모든 문자열을 합쳐 최종 로마 숫자 문자열을 반환합니다.

```python
>>> int_to_roman(154)
'CLIV'
>>> int_to_roman(3999)
'MMMCMXCIX'
```

## 실행 방법

스크립트를 직접 실행하면 내장된 `doctest`를 통해 각 함수에 포함된 예제 코드가 실행되고, 함수의 정확성이 자동으로 테스트됩니다.

```bash
python roman_numerals.py
```

별도의 출력이 없다면 모든 테스트가 성공적으로 통과한 것입니다.

## 코드 개선 제안

1.  **입력 유효성 검사**: 현재 함수들은 입력값이 유효한 로마 숫자이거나 특정 범위 내의 정수라고 가정합니다. `roman_to_int`에는 유효하지 않은 로마 숫자 문자열(예: "IIII", "VX")을 검사하는 로직을, `int_to_roman`에는 입력 정수의 범위(예: 1~3999)를 확인하는 로직을 추가하면 프로그램의 안정성이 향상됩니다.

2.  **`roman_to_int`의 가독성**: `while` 루프와 인덱스를 직접 관리하는 방식은 잘 동작하지만, `for` 루프를 사용하여 더 간결하게 표현할 수도 있습니다.

    ```python
    # for 루프를 사용한 개선 제안 예시
    def roman_to_int_alt(roman: str) -> int:
        vals = {"I": 1, "V": 5, "X": 10, "L": 50, "C": 100, "D": 500, "M": 1000}
        total = 0
        # 마지막 문자는 항상 더해지므로 미리 더해둠
        total += vals[roman[-1]]
        # 오른쪽에서 두 번째 문자부터 왼쪽으로 순회
        for i in range(len(roman) - 2, -1, -1):
            if vals[roman[i]] < vals[roman[i+1]]:
                total -= vals[roman[i]] # 감산 규칙
            else:
                total += vals[roman[i]] # 덧셈 규칙
        return total
    ```

3.  **상수 위치**: `int_to_roman` 함수 내에 정의된 `ROMAN` 리스트는 변하지 않는 상수입니다. 이 리스트를 함수 바깥의 모듈 레벨에 정의하면, 함수가 호출될 때마다 리스트를 새로 생성하는 오버헤드를 줄일 수 있습니다.