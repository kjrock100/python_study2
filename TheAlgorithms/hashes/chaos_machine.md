# 카오스 머신 (Chaos Machine)

이 문서는 `chaos_machine.py` 파일에 구현된 간단한 **카오스 머신**에 대해 설명합니다. 이 코드는 로지스틱 맵(Logistic Map)과 같은 동적 시스템(Dynamical Systems)을 사용하여 외부 입력을 내부 상태에 혼합하고, 의사 난수(Pseudo-random number)를 생성하는 과정을 시뮬레이션합니다.

## 개요

이 카오스 머신은 내부 상태를 나타내는 `buffer_space`와 각 상태의 동작을 제어하는 `params_space`를 가집니다. `push` 함수를 통해 외부 데이터를 흡수하여 내부 상태를 복잡하게 만들고, `pull` 함수를 통해 예측하기 어려운 값을 생성합니다.

## 주요 전역 변수 (상태 공간)

- `K`: `buffer_space`의 초기 상태 값(시드).
- `t`: `pull` 함수에서 로지스틱 맵을 반복 실행하는 횟수.
- `m`: 상태 공간의 크기.
- `buffer_space`: 머신의 현재 상태를 저장하는 실수 리스트.
- `params_space`: 각 상태에 대한 로지스틱 맵의 `r` 매개변수를 저장하는 리스트.
- `machine_time`: 머신이 작동한 시간을 나타내는 카운터.

## 주요 함수

### `push(seed)`

- **목적**: 외부 데이터(`seed`)를 받아 머신의 내부 상태(`buffer_space`, `params_space`)에 혼합합니다.
- **동작**: 입력된 `seed`를 기반으로 진화 매개변수 `e`를 계산하고, 이를 사용하여 상태 공간 전체를 로지스틱 맵 공식(`r * value * (1 - value)`)에 따라 갱신합니다. 이 과정을 통해 외부 입력이 시스템 전체에 영향을 미치게 됩니다.

### `pull()`

- **목적**: 현재 상태를 기반으로 의사 난수를 생성하여 반환합니다.
- **동작**:
  1.  상태 공간의 일부를 `t`번만큼 로지스틱 맵을 통해 진화시킵니다.
  2.  상태 공간에서 두 개의 값을 선택합니다.
  3.  선택된 두 값을 **Xorshift** 알고리즘에 입력하여 최종 난수를 생성합니다.

### `reset()`

- **목적**: 모든 전역 변수를 초기 상태로 되돌립니다.

## 사용법

`if __name__ == "__main__":` 블록에서 실행 예시를 확인할 수 있습니다.

1.  `reset()`으로 머신을 초기화합니다.
2.  `push()`를 사용하여 100개의 무작위 숫자로 머신의 상태를 초기화(seeding)합니다.
3.  사용자가 'e'를 입력할 때까지 `pull()`을 반복 호출하여 의사 난수 스트림을 생성하고 출력합니다.

## 핵심 개념

- **로지스틱 맵 (Logistic Map)**: 카오스 이론의 대표적인 예시로, 간단한 비선형 방정식으로 복잡하고 예측 불가능해 보이는 동작을 생성합니다. 상태를 갱신하는 데 사용됩니다.
- **Xorshift**: George Marsaglia가 고안한 간단하고 빠른 의사 난수 생성 알고리즘입니다. `pull` 함수에서 최종 출력값을 생성하는 데 사용됩니다.

## 주의 사항
- 이 코드는 전역 변수를 많이 사용하여 상태를 관리하므로, 스레드 환경 등에서는 안전하지 않을 수 있습니다. 알고리즘의 개념을 이해하기 위한 예제로 적합합니다.
